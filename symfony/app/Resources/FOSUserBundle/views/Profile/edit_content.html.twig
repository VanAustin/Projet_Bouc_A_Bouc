{% trans_default_domain 'FOSUserBundle' %}

{{ form_start(form, { 'method' : 'post','action': path('fos_user_profile_edit'), 'attr': { 'class': 'fos_user_profile_edit col-8 m-auto' } }) }}
		<div class="form-group">
				{{ form_label(form.file, null, {'label_attr': {'class': 'field field-label'}}) }}
		        <div class="d-flex justify-content-center">
		            {% if app.user.file.pathname is defined %}
		            <img src="{{ asset(app.user.file.pathname) }}" alt="" class="avatar my-2">
		            {% else %}
		            <img src="{{ asset('public/images/goat.jpg') }}" alt="" class="avatar my-2">
		            {% endif %}
		        </div>
				{{ form_errors(form.file) }}
				{{ form_widget(form.file, {'attr': {'class': 'field field-input', 'placeholder': 'Votre avatar', 'onchange': 'readURL(this)'}}) }}
		</div>
		<div class="d-flex justify-content-center">
				<img id="blah" src="" alt="">
		</div>
		<div class="form-group">
				{{ form_label(form.username, null, {'label': 'Votre nom d\'utilisateur', 'label_attr': {'class': 'field field-label'}}) }}
				{{ form_errors(form.username) }}
				{{ form_widget(form.username, {'attr': {'class': 'field field-input', 'placeholder': 'Votre nom d\'utilisateur'}}) }}
		</div>
		<div class="form-group">
				{{ form_label(form.email, null, {'label': 'Votre adresse email', 'label_attr': {'class': 'field field-label'}}) }}
				{{ form_errors(form.email) }}
				{{ form_widget(form.email, {'attr': {'class': 'field field-input', 'placeholder': 'Votre adresse email'}}) }}
		</div>
		<div class="form-group" id="fos_user_registration_form">
				{{ form_label(form.address, null, {'label_attr': 'Votre adresse', 'label_attr' : {'class': 'field field-label'}}) }}
        {{ form_errors(form.address) }}
        {{ form_widget(form.address, {'attr': {'class': 'field field-input autocomplete', 'placeholder': 'Votre adresse'}}) }}
        {{ form_widget(form.lat) }}
        {{ form_widget(form.lng) }}
		</div>
		<div class="form-group">
				{{ form_label(form.current_password, null, {'label': 'Mot de passe actuel', 'label_attr': {'class': 'field field-label'}}) }}
				{{ form_errors(form.current_password) }}
				{{ form_widget(form.current_password, {'attr': {'class': 'field field-input', 'placeholder': 'Mot de passe actuel'}}) }}
		</div>
		    <div class="mt-5">
		        <input class="field" type="submit" id="_submit" name="_submit" value="{{ 'Editer'|trans }}" />
		    </div>
	{{ form_end(form) }}
